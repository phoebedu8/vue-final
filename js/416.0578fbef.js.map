{"version":3,"file":"js/416.0578fbef.js","mappings":"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","sources":["webpack://vue-final/./src/views/front/ProductsID.vue","webpack://vue-final/./src/components/SwiperComp.vue","webpack://vue-final/./src/components/SwiperComp.vue?fb12","webpack://vue-final/./src/views/front/ProductsID.vue?ec93"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\n  <div class=\"container my-5\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-12 col-md-5 me-md-5\">\n          <img :src=\"product.imageUrl\" class=\"rounded-3 img-fluid mb-3\">\n      </div>\n      <div class=\"col-12 col-md-5\">\n        <nav aria-label=\"breadcrumb\">\n          <ol class=\"breadcrumb\">\n            <li class=\"breadcrumb-item\">\n              <router-link to=\"/\">首頁</router-link>\n            </li>\n            <li class=\"breadcrumb-item\">\n              <router-link to=\"/products\">全部產品</router-link>\n            </li>\n            <li class=\"breadcrumb-item\">\n              <router-link :to=\"{\n                name: 'products',\n                query: { category: product.category , page: 1 }\n              }\">\n                {{ product.category }}\n              </router-link>\n            </li>\n            <li class=\"breadcrumb-item active\">{{ product.title }}</li>\n          </ol>\n        </nav>\n        <h2 class=\"my-3\">{{ product.title }}</h2>\n        <div class=\"h4 my-2 text-danger\">NT${{ $filters.currency(product.price) }} 元\n          <del class=\"h6 ms-2 text-gray\">原價\n            : {{ $filters.currency(product.origin_price) }} 元\n          </del>\n        </div>\n        <hr>\n        <div class=\"my-4 lh-lg\">{{ product.content }}</div>\n        <div class=\"my-4 lh-lg\">{{ product.description }}</div>\n\n          <div class=\"row\">\n            <div class=\"col-12 col-md-6 mb-3\">\n              <div class=\"qty-groups d-flex\">\n                <button class=\"qty-btn\" type=\"button\" @click=\"minsQty\" :disabled=\"qty<=1\">-</button>\n                <input class=\"text-center qty-input\" type=\"number\" min=\"1\" v-model=\"qty\" @change=\"checkQty\" />\n                <button class=\"qty-btn\" type=\"button\" @click=\"addQty\">+</button>\n              </div>\n            </div>\n            <div class=\"col-12 col-md-6\">\n              <button type=\"button\" class=\"btn btn-outline-danger w-100\" @click=\"addToCart(product.id, qty)\">\n                加到購物車\n              </button>\n            </div>\n          </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"container\">\n    <div class=\"row my-5 \">\n          <h3 class=\"mb-5 text-center\"> 加購其他產品</h3>\n          <SwiperComp @emit-id=\"getProduct\"></SwiperComp>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/methods/eventBus'\nimport SwiperComp from '@/components/SwiperComp'\nexport default {\n  data () {\n    return {\n      tempProducts: {},\n      qty: 1,\n      failQty: false,\n      isLoading: false,\n      product: {},\n      id: '',\n      prod: []\n\n    }\n  },\n  components: {\n    SwiperComp\n  },\n  inject: ['emitter'],\n  methods: {\n    addQty () {\n      this.failQty = false\n      this.qty += 1\n    },\n    minsQty () {\n      this.qty -= 1\n    },\n    checkQty () {\n      if (this.qty <= 1) {\n        this.failQty = true\n        this.qty = 1\n      }\n    },\n    getProduct (id) {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${this.id}`\n      this.isLoading = true\n      this.$http\n        .get(api)\n        .then((response) => {\n          this.product = response.data.product\n          this.isLoading = false\n        })\n    },\n    getProdIdFromComp (id) {\n      const loader = this.$loading.show()\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${this.id}`\n        )\n        .then((res) => {\n          loader.hide()\n          this.product = res.data.product\n        })\n        .catch((err) => {\n          loader.hide()\n          console.dir(err)\n        })\n    },\n    addToCart (id, qty) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\n      const cart = {\n        product_id: id,\n        qty\n      }\n      this.isLoading = true\n      this.$http\n        .post(url, {\n          data: cart\n        })\n        .then((response) => {\n          this.qty = 1\n          emitter.emit('get-cart')\n          this.isLoading = false\n          this.$swal({\n            title: '成功加入購物車',\n            icon: 'success',\n            confirmButtonColor: '#dc3545'\n          })\n        })\n        .catch((error) => {\n          this.isLoading = false\n          this.$httpMessageState(error.response, '加入購物車')\n        })\n    }\n  },\n  watch: {\n    // 監聽動態路由 id，重新取得產品頁面\n    $route () {\n      this.id = this.$route.params.productId\n      if (this.id !== undefined) {\n        this.getProduct()\n      }\n    }\n  },\n  created () {\n    this.id = this.$route.params.productId\n    this.getProduct()\n  }\n}\n\n</script>\n","<template>\n<div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\" v-for=\"item in tempProducts\" :key=\"item.id\">\n      <div class=\"text-center\">\n        <router-link\n          :to=\"`/product/${item.id}`\"\n          class=\"sushiBtn btn\"\n          style=\"width: -webkit-fill-available\"\n          @click.prevent=\"emitProdId(item.id)\"\n        >\n          <img\n            :src=\"item.imageUrl\"\n            :alt=\"item.title\"\n            class=\"w-100 rounded-3\"\n          />\n          <h5 class=\"sushiTitle text-truncate w-100 mt-3 mx-auto\">\n            {{ item.title }}\n          </h5>\n          <div class=\"h5 my-2 text-danger\">NT${{ $filters.currency(item.price) }} 元\n          <div><del class=\"h6 ms-auto text-gray\">原價\n            : {{ $filters.currency(item.origin_price) }} 元\n          </del>\n          </div>\n        </div>\n        </router-link>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      tempProducts: {}\n    }\n  },\n\n  methods: {\n    getProducts () {\n      this.$http\n        .get(\n            `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`\n        )\n        .then((res) => {\n          this.tempProducts = res.data.products\n          // 隨機亂數排列\n          this.tempProducts.sort(() => {\n            return 0.6 - Math.random()\n          })\n          this.tempProducts = this.tempProducts.slice(0, 6)\n        })\n        .catch((err) => {\n          console.dir(err)\n        })\n    },\n    emitProdId (id) {\n      this.$emit('emit-id', id)\n    }\n  },\n  mounted () {\n    this.getProducts()\n  }\n}\n\n</script>\n","import { render } from \"./SwiperComp.vue?vue&type=template&id=3faa65d0\"\nimport script from \"./SwiperComp.vue?vue&type=script&lang=js\"\nexport * from \"./SwiperComp.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/phoebe/Desktop/vue-final/vue-final/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsID.vue?vue&type=template&id=97a0c5f6\"\nimport script from \"./ProductsID.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsID.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/phoebe/Desktop/vue-final/vue-final/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createVNode","_component_Loading","active","$data","src","imageUrl","_component_router_link","to","category","page","_toDisplayString","title","_ctx","currency","price","origin_price","_hoisted_17","content","description","type","onClick","$options","disabled","_hoisted_23","min","$event","onChange","id","_hoisted_27","_component_SwiperComp","onEmitId","_createElementBlock","_Fragment","_renderList","item","key","style","alt","data","tempProducts","methods","getProducts","this","$http","get","then","res","products","sort","Math","random","slice","catch","err","console","dir","emitProdId","$emit","mounted","__exports__","qty","failQty","isLoading","product","prod","components","SwiperComp","inject","addQty","minsQty","checkQty","getProduct","api","response","getProdIdFromComp","loader","$loading","show","hide","addToCart","url","cart","product_id","post","emitter","$swal","icon","confirmButtonColor","error","$httpMessageState","watch","$route","params","productId","undefined","created","render"],"sourceRoot":""}