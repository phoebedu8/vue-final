"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[474],{6326:function(t,s,e){e.d(s,{Z:function(){return g}});var a=e(6252),n=e(3577);const o={class:"toast-container position-fixed pe-3 top-0 end-0",style:{"z-index":"1500"}},l={class:"toast-header"},i={class:"me-auto"},r=["onClick"],c={key:0,class:"toast-body"};function u(t,s,e,u,d,p){return(0,a.wg)(),(0,a.iD)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.messages,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{key:s,class:(0,n.C_)(["toast show",`toast${s}`]),role:"alert"},[(0,a._)("div",l,[(0,a._)("span",{class:(0,n.C_)([`bg-${t.style}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,a._)("strong",i,(0,n.zw)(t.title),1),(0,a._)("button",{type:"button",class:"btn-close",onClick:t=>p.clearToast(s),"aria-label":"Close"},null,8,r)]),t.content?((0,a.wg)(),(0,a.iD)("div",c,(0,n.zw)(t.content),1)):(0,a.kq)("",!0)],2)))),128))])}var d={data(){return{messages:[]}},inject:["emitter"],methods:{toastShow(){setTimeout((()=>{this.messages.shift()}),6e3)},clearToast(t){this.messages.splice(t,1)}},mounted(){this.emitter.on("push-message",(t=>{const{style:s="success",title:e,content:a}=t;this.messages.push({style:s,title:e,content:a}),this.toastShow()}))}},p=e(3744);const v=(0,p.Z)(d,[["render",u]]);var g=v},5474:function(t,s,e){e.r(s),e.d(s,{default:function(){return W}});var a=e(6252);const n={class:"container-fluid mt-3 position-relative"};function o(t,s,e,o,l,i){const r=(0,a.up)("Navbar"),c=(0,a.up)("ToastMessages"),u=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a._)("div",n,[(0,a.Wm)(c),l.status?((0,a.wg)(),(0,a.j4)(u,{key:0})):(0,a.kq)("",!0)])],64)}var l=e(5011),i=e(6326),r=e(9963),c=e(4427);const u={class:"navbar navbar-expand-lg navbar-light"},d={class:"container-fluid"},p={class:"d-flax algin-items-center"},v=(0,a._)("img",{src:c,alt:"nav-logo"},null,-1),g=(0,a._)("button",{class:"navbar-toggler border-0",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1),h={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},b={class:"navbar-nav d-flex align-items-center position-relative w-100"},m=(0,a.Uk)(" 產品管理 "),k=(0,a._)("span",{class:"px-1 d-none d-lg-block nav-text-line"},"/",-1),f=(0,a.Uk)(" 訂單管理 "),_=(0,a._)("span",{class:"px-1 d-none d-lg-block nav-text-line"},"/",-1),w=(0,a.Uk)(" 優惠券管理 ");function x(t,s,e,n,o,l){const i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",u,[(0,a._)("div",d,[(0,a._)("div",p,[(0,a.Wm)(i,{to:"/admin/newproducts",class:"navbar-brand logo-title"},{default:(0,a.w5)((()=>[v])),_:1})]),g,(0,a._)("div",h,[(0,a._)("div",b,[(0,a.Wm)(i,{to:"/admin/newproducts",class:"nav-link"},{default:(0,a.w5)((()=>[m])),_:1}),k,(0,a.Wm)(i,{to:"/admin/orders",class:"nav-link"},{default:(0,a.w5)((()=>[f])),_:1}),_,(0,a.Wm)(i,{to:"/admin/coupons",class:"nav-link"},{default:(0,a.w5)((()=>[w])),_:1}),(0,a._)("button",{onClick:s[0]||(s[0]=(0,r.iM)(((...t)=>l.logout&&l.logout(...t)),["prevent"])),class:"btn btn-outline-danger me-2 end-0 logout",type:"button"},"登出")])])])])}var y={inject:["emitter"],methods:{logout(){const t="https://vue3-course-api.hexschool.io/v2//logout";this.$http.post(t).then((t=>{t.data.success&&this.$router.push("/login")}))}}},$=e(3744);const C=(0,$.Z)(y,[["render",x]]);var T=C,D={components:{Navbar:T,ToastMessages:i.Z},data(){return{status:!1}},provide(){return{emitter:l.Z}},created(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${t}`;const s="https://vue3-course-api.hexschool.io/v2//api/user/check";this.$http.post(s).then((t=>{this.status=!0})).catch((()=>{this.$router.push("/login")}))}};const M=(0,$.Z)(D,[["render",o]]);var W=M},4427:function(t,s,e){t.exports=e.p+"img/logo.4eb9d269.png"}}]);
//# sourceMappingURL=474.ca405471.js.map