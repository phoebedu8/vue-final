"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[110],{6326:function(t,e,s){s.d(e,{Z:function(){return h}});var a=s(6252),o=s(3577);const n={class:"toast-container position-fixed pe-3 top-0 end-0",style:{"z-index":"1500"}},i={class:"toast-header"},l={class:"me-auto"},r=["onClick"],c={key:0,class:"toast-body"};function d(t,e,s,d,g,p){return(0,a.wg)(),(0,a.iD)("div",n,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.messages,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:(0,o.C_)(["toast show",`toast${e}`]),role:"alert"},[(0,a._)("div",i,[(0,a._)("span",{class:(0,o.C_)([`bg-${t.style}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,a._)("strong",l,(0,o.zw)(t.title),1),(0,a._)("button",{type:"button",class:"btn-close",onClick:t=>p.clearToast(e),"aria-label":"Close"},null,8,r)]),t.content?((0,a.wg)(),(0,a.iD)("div",c,(0,o.zw)(t.content),1)):(0,a.kq)("",!0)],2)))),128))])}var g={data(){return{messages:[]}},inject:["emitter"],methods:{toastShow(){setTimeout((()=>{this.messages.shift()}),6e3)},clearToast(t){this.messages.splice(t,1)}},mounted(){this.emitter.on("push-message",(t=>{const{style:e="success",title:s,content:a}=t;this.messages.push({style:e,title:s,content:a}),this.toastShow()}))}},p=s(3744);const u=(0,p.Z)(g,[["render",d]]);var h=u},8110:function(t,e,s){s.r(e),s.d(e,{default:function(){return lt}});var a=s(6252);function o(t,e,s,o,n,i){const l=(0,a.up)("NavbarUser"),r=(0,a.up)("ToastMessages"),c=(0,a.up)("router-view"),d=(0,a.up)("FooterView");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l,{page:n.page},null,8,["page"]),(0,a.Wm)(r),(0,a.Wm)(c),(0,a.Wm)(d)],64)}var n=s(5011),i=s(6326),l=s(3577),r=s(9963),c=s(4427);const d={class:"navbar navbar-expand-lg navbar-light sticky-top sticky-md-top"},g={class:"container-fluid"},p=(0,a._)("img",{class:"nav-logo",src:c,alt:"nav-logo"},null,-1),u=(0,a._)("span",{class:"navbar-toggler-icon"},null,-1),h=[u],v={class:"navbar-nav d-flex align-items-center"},m=(0,a.Uk)(" 品牌介紹 "),b=(0,a._)("span",{class:"px-1 d-none d-lg-block nav-text-line"},"/",-1),w=(0,a.Uk)(" 選購產品 "),f=(0,a._)("span",{class:"px-1 d-none d-lg-block nav-text-line"},"/",-1),k=(0,a.Uk)(" 聯絡我們 "),_={key:0,class:"dropdown nav-cart cart-icon"},x={class:"dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false"},C=(0,a._)("i",{class:"bi bi-cart2 fs-3 text-black"},null,-1),y={class:"position-absolute top-30 start-40 translate-middle badge rounded-pill bg-danger fs-7"},N=(0,a._)("span",{class:"visually-hidden"},"unread messages",-1),D={class:"cart-dropdown-content dropdown-menu dropdown-menu-end px-2","aria-labelledby":"navbarDarkDropdownMenuLink"},$={key:0,class:"my-4 text-center"},T=["src"],L={class:"ms-2"},U={class:"m-0"},M={class:"m-0 text-danger"},q={class:"card-text ms-1 fs-7"},W={class:"text-gray"},Z=["onUpdate:modelValue","onChange"],S={class:"position-absolute end-0"},z=["onClick"],I=(0,a._)("i",{class:"bi bi-x"},null,-1),V=[I],B={class:"m-2"};function H(t,e,s,o,n,i){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",d,[(0,a._)("div",g,[(0,a.Wm)(c,{to:"/",class:"navbar-brand logo-title"},{default:(0,a.w5)((()=>[p])),_:1}),(0,a._)("button",{ref:"navbarBtn",class:"hamburger-icon navbar-toggler border-0",type:"button",onClick:e[0]||(e[0]=(...t)=>i.openNav&&i.openNav(...t))},h,512),(0,a._)("div",{class:(0,l.C_)(["collapse navbar-collapse",n.toggleNav?"show":""]),ref:"navbarcollapse",id:"navbarNavAltMarkup"},[(0,a._)("div",v,[(0,a.Wm)(c,{to:"/about",class:"nav-link px-2",onClick:i.closeNav},{default:(0,a.w5)((()=>[m])),_:1},8,["onClick"]),b,(0,a.Wm)(c,{to:"/products?category=all&page=1",class:"nav-link px-2",onClick:i.closeNav},{default:(0,a.w5)((()=>[w])),_:1},8,["onClick"]),f,(0,a.Wm)(c,{to:"/contact",class:"nav-link px-2",onClick:i.closeNav},{default:(0,a.w5)((()=>[k])),_:1},8,["onClick"])])],2)]),n.showCart?((0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("a",x,[C,(0,a._)("span",y,[(0,a.Uk)((0,l.zw)(n.carts?.length)+" ",1),N])]),(0,a._)("ul",D,[n.carts.length<=0?((0,a.wg)(),(0,a.iD)("li",$," 目前購物車沒有商品 ")):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(n.carts,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.id,class:"d-flex m-2 align-items-center position-relative border-bottom pb-2"},[(0,a._)("img",{src:t.product.imageUrl,alt:"item.title",class:"nav-product-img"},null,8,T),(0,a._)("div",L,[(0,a._)("p",U,(0,l.zw)(t.product.title),1),(0,a._)("p",M,[(0,a.Uk)("NT$"+(0,l.zw)(t.product.price)+" ",1),(0,a._)("span",q,[(0,a._)("del",W,"NT$"+(0,l.zw)(t.product.origin_price),1)])]),(0,a.wy)((0,a._)("input",{class:"w-50 text-center rounded border border-secondary",type:"number",min:"1","onUpdate:modelValue":e=>t.qty=e,onChange:e=>i.updateCart(t)},null,40,Z),[[r.nr,t.qty]])]),(0,a._)("div",S,[(0,a._)("a",{onClick:(0,r.iM)((e=>i.removeCartItem(t.id)),["prevent"]),href:"#",class:"btn btn-outline-danger btn-sm"},V,8,z)])])))),128)),(0,a._)("div",B,[n.carts.length<=0?((0,a.wg)(),(0,a.iD)("a",{key:0,onClick:e[1]||(e[1]=(0,r.iM)((t=>i.goToTarget("products")),["prevent"])),href:"",class:"btn btn-outline-danger w-100"}," 前往產品頁 ")):((0,a.wg)(),(0,a.iD)("a",{key:1,onClick:e[2]||(e[2]=(0,r.iM)((t=>i.goToTarget("cart")),["prevent"])),href:"",class:"btn btn-danger w-100"}," 前往購物車 "))])])])):(0,a.kq)("",!0)])}const Y=["home","products","product","about","contact"];var j={props:{page:{type:String,default:""}},data(){return{toggleNav:!1,carts:[],products:[],product:{},status:{loadingItem:""},cart:{},isLoading:!1,coupon_code:"",showCart:!0,favorite:JSON.parse(localStorage.getItem("favorite"))||[]}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/v2//api/xqrass-hexschool/cart";this.isLoading=!0,this.$http.get(t).then((t=>{this.carts=t.data.data.carts,this.isLoading=!1})).catch((t=>{this.isLoading=!1,this.$httpMessageState(t.response,"錯誤訊息")}))},removeCartItem(t){this.status.loadingItem=t;const e=`https://vue3-course-api.hexschool.io/v2//api/xqrass-hexschool/cart/${t}`;this.isLoading=!0,this.$http.delete(e).then((t=>{n.Z.emit("get-cart"),this.$swal({title:"移除購物車品項",icon:"success",confirmButtonColor:"#dc3545"}),this.status.loadingItem="",this.isLoading=!1,this.getCart()})).catch((t=>{this.isLoading=!1,this.$httpMessageState(t.response,"移除購物車品項")}))},updateCart(t){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/v2//api/xqrass-hexschool/cart/${t.id}`,s={product_id:t.product_id,qty:t.qty};this.$http.put(e,{data:s}).then((t=>{this.$swal({title:"更新數量成功",icon:"success",confirmButtonColor:"#dc3545"}),this.isLoading=!1,this.getCart()})).catch((t=>{this.isLoading=!1,this.$httpMessageState(t.response,"更新購物車")}))},goToTarget(t){this.$router.push(`/${t}`)},openNav(){this.toggleNav=!this.toggleNav,this.toggleNav?this.toggleNav=!0:this.closeNav()},closeNav(){this.toggleNav=!1}},watch:{page(){this.showCart=Y.includes(this.page)||""===this.page}},created(){this.getCart(),n.Z.on("get-cart",(()=>{this.getCart()}))}},A=s(3744);const F=(0,A.Z)(j,[["render",H]]);var K=F;const R={class:"footer container-fluid text-white mt-5"},E={class:"row py-4"},J={class:"col"},O=(0,a._)("div",{class:"text-center my-3"},[(0,a._)("img",{class:"footer-logo",src:c,alt:"footer-logo"})],-1),P={class:"text-center"},G=(0,a.Uk)("本網站僅供個人作品使用，不提供商業用途 "),Q=(0,a._)("span",{class:"mx-2"}," | ",-1),X=(0,a.Uk)("登入後台"),tt=(0,a.uE)('<p class="text-center fs-7">Copyright ©Cosmos All Rights Reserved. Designed by Phoebe Du</p><div class="d-flex justify-content-center"><a href="#" class="text-decoration-none text-white mx-2" target="_blank"><i class="fs-3 bi bi-facebook"></i></a><a href="#" class="text-decoration-none text-white mx-2" target="_blank"><i class="fs-3 bi bi-instagram"></i></a><a href="#" class="text-decoration-none text-white mx-2" target="_blank"><i class="fs-3 bi bi-envelope"></i></a></div>',2);function et(t,e){const s=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",R,[(0,a._)("div",E,[(0,a._)("div",J,[O,(0,a._)("p",P,[G,Q,(0,a.Wm)(s,{to:"/login",class:"text-white"},{default:(0,a.w5)((()=>[X])),_:1})]),tt])])])}const st={},at=(0,A.Z)(st,[["render",et]]);var ot=at,nt={data(){return{status:!1,page:""}},provide(){return{emitter:n.Z}},components:{NavbarUser:K,ToastMessages:i.Z,FooterView:ot},mounted(){this.page=this.$route.name}};const it=(0,A.Z)(nt,[["render",o]]);var lt=it},4427:function(t,e,s){t.exports=s.p+"img/logo.4eb9d269.png"}}]);
//# sourceMappingURL=110.be9636ac.js.map