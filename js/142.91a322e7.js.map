{"version":3,"file":"js/142.91a322e7.js","mappings":"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","sources":["webpack://vue-final/./src/views/front/CartCheckout.vue","webpack://vue-final/./src/views/front/CartCheckout.vue?1dc0"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\n  <div class=\"main\">\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"cart-img d-flex justify-content-center\"></div>\n      </div>\n    </div>\n    <div class=\"container mt-5\">\n      <div class=\"row mx-1 mx-md-0 shopping-process position-relative d-flex justify-content-center align-items-center\">\n        <ul class=\"d-flex justify-content-between w-md-75 w-100 w-lg-50 mx-auto \">\n          <li class=\"d-flex flex-column align-items-center\">\n            <div class=\"d-flex align-items-center justify-content-center circle rounded-circle mb-2\">\n              1 </div>\n            <p>購物車</p>\n          </li>\n          <li class=\"d-flex flex-column align-items-center\">\n            <div class=\"d-flex align-items-center justify-content-center circle rounded-circle mb-2\"> 2 </div>\n            <p>填寫資訊</p>\n          </li>\n          <li class=\"d-flex flex-column align-items-center\">\n            <div class=\"d-flex align-items-center justify-content-center circle rounded-circle mb-2 circle-active\"> 3\n            </div>\n            <p class=\"process\">確認訂單</p>\n          </li>\n          <li class=\"d-flex flex-column align-items-center\">\n            <div class=\"d-flex align-items-center justify-content-center circle rounded-circle mb-2\"> 4 </div>\n            <p>完成購物</p>\n          </li>\n        </ul>\n        <div class=\"line position-absolute\"></div>\n      </div>\n    </div>\n    <div class=\"container rounded my-5\">\n      <div class=\"row mx-1 mx-md-0 cart-title-bar cart-title d-flex align-items-center justify-content-center rounded-top\">\n        <div class=\"col d-flex align-items-center justify-content-center text-white\">STEP 3 : 確認訂單</div>\n      </div>\n      <div class=\"row mx-1 mx-md-0 py-3 justify-content-center align-items-top border\" @click.prevent=\"payOrder\">\n        <div class=\"col-12 col-md-6\">\n          <table class=\"table align-middle\">\n            <thead>\n              <th class=\"cart-table-img\">產品</th>\n              <th>品名</th>\n              <th>數量</th>\n              <th class=\"text-end\">價錢</th>\n            </thead>\n            <tbody class=\"border-top\">\n              <tr v-for=\"item in order.products\" :key=\"item.id\">\n                <td><img :src=\"item.product.imageUrl\" alt=\"item.title\" class=\"picture\"></td>\n                <td>{{ item.product.title }}</td>\n                <td>{{ item.qty }}/{{ item.product.unit }}</td>\n                <td class=\"text-end\">NT${{ item.final_total }}</td>\n              </tr>\n            </tbody>\n            <tfoot>\n              <tr>\n                <td colspan=\"3\" class=\"text-end\"></td>\n                <td class=\"text-end\">總計 : NT${{ order.total }}</td>\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n        <div class=\"col-12 col-md-6\">\n          <table class=\"table \">\n            <thead>\n              <th>購買者資訊</th>\n            </thead>\n            <tbody class=\"border-top\">\n              <tr>\n                <th width=\"100\">Email</th>\n                <td>{{ order.user.email }}</td>\n              </tr>\n              <tr>\n                <th>姓名</th>\n                <td>{{ order.user.name }}</td>\n              </tr>\n              <tr>\n                <th>收件人電話</th>\n                <td>{{ order.user.tel }}</td>\n              </tr>\n              <tr>\n                <th>收件人地址</th>\n                <td>{{ order.user.address }}</td>\n              </tr>\n              <tr>\n                <th>付款狀態</th>\n                <td>\n                  <span v-if=\"!order.is_paid\">尚未付款</span>\n                  <span v-else class=\"text-success\">付款完成</span>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"col-12\">\n          <div class=\"text-end\" v-if=\"order.is_paid === false\">\n            <button type=\"button\" class=\"btn btn-danger\" @click=\"payOrder\">確認付款</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/methods/eventBus'\nexport default {\n  data () {\n    return {\n      order: {\n        user: {}\n      },\n      orderId: '',\n      isLoading: false\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    getOrder () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${this.orderId}`\n      this.isLoading = true\n      this.$http\n        .get(url)\n        .then((response) => {\n          this.order = response.data.order\n          this.isLoading = false\n        })\n        .catch((error) => {\n          this.isLoading = false\n          this.$httpMessageState(error.response, '錯誤訊息')\n        })\n    },\n    payOrder () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`\n      this.isLoading = true\n      this.$http\n        .post(url)\n        .then((response) => {\n          emitter.emit('get-cart')\n          this.$router.push(`/final/${this.orderId}`)\n          this.isLoading = false\n        })\n        .catch((error) => {\n          this.isLoading = false\n          this.$httpMessageState(error.response, '錯誤訊息')\n        })\n    }\n  },\n  mounted () {\n    this.orderId = this.$route.params.orderId\n    this.getOrder()\n  }\n}\n\n</script>\n","import { render } from \"./CartCheckout.vue?vue&type=template&id=6433fdf0\"\nimport script from \"./CartCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./CartCheckout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/phoebe/Desktop/vue-final/vue-final/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","colspan","width","_createVNode","_component_Loading","active","$data","_hoisted_2","_hoisted_5","onClick","$options","_hoisted_8","_createElementBlock","_Fragment","_renderList","products","item","key","id","src","product","imageUrl","alt","_toDisplayString","title","qty","unit","final_total","_hoisted_12","total","_hoisted_16","_hoisted_18","user","email","_hoisted_19","name","_hoisted_20","tel","_hoisted_21","address","_hoisted_22","is_paid","_hoisted_23","type","data","order","orderId","isLoading","inject","methods","getOrder","url","this","$http","get","then","response","catch","error","$httpMessageState","payOrder","post","emitter","$router","push","mounted","$route","params","__exports__","render"],"sourceRoot":""}