"use strict";(self["webpackChunkvue_final"]=self["webpackChunkvue_final"]||[]).push([[416],{416:function(t,s,i){i.r(s),i.d(s,{default:function(){return G}});var e=i(6252),c=i(3577),o=i(9963);const r={class:"container my-5"},d={class:"row justify-content-center"},a={class:"col-12 col-md-5 me-md-5"},l=["src"],n={class:"col-12 col-md-5"},u={"aria-label":"breadcrumb"},h={class:"breadcrumb"},p={class:"breadcrumb-item"},m=(0,e.Uk)("首頁"),y={class:"breadcrumb-item"},g=(0,e.Uk)("全部產品"),_={class:"breadcrumb-item"},v={class:"breadcrumb-item active"},w={class:"my-3"},b={class:"h4 my-2 text-danger"},f={class:"h6 ms-2 text-gray"},x=(0,e._)("hr",null,null,-1),k={class:"my-4 lh-lg"},q={class:"my-4 lh-lg"},$={class:"row"},P={class:"col-12 col-md-6 mb-3"},C={class:"qty-groups d-flex"},Q=["disabled"],z={class:"col-12 col-md-6"},L={class:"container"},U={class:"row my-5"},I=(0,e._)("h3",{class:"mb-5 text-center"}," 加購其他產品",-1);function W(t,s,i,W,T,D){const M=(0,e.up)("Loading"),S=(0,e.up)("router-link"),Z=(0,e.up)("SwiperComp");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(M,{active:T.isLoading,"z-index":1060},null,8,["active"]),(0,e._)("div",r,[(0,e._)("div",d,[(0,e._)("div",a,[(0,e._)("img",{src:T.product.imageUrl,class:"rounded-3 img-fluid mb-3"},null,8,l)]),(0,e._)("div",n,[(0,e._)("nav",u,[(0,e._)("ol",h,[(0,e._)("li",p,[(0,e.Wm)(S,{to:"/"},{default:(0,e.w5)((()=>[m])),_:1})]),(0,e._)("li",y,[(0,e.Wm)(S,{to:"/products"},{default:(0,e.w5)((()=>[g])),_:1})]),(0,e._)("li",_,[(0,e.Wm)(S,{to:{name:"products",query:{category:T.product.category,page:1}}},{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(T.product.category),1)])),_:1},8,["to"])]),(0,e._)("li",v,(0,c.zw)(T.product.title),1)])]),(0,e._)("h2",w,(0,c.zw)(T.product.title),1),(0,e._)("div",b,[(0,e.Uk)("NT$"+(0,c.zw)(t.$filters.currency(T.product.price))+" 元 ",1),(0,e._)("del",f,"原價 : "+(0,c.zw)(t.$filters.currency(T.product.origin_price))+" 元 ",1)]),x,(0,e._)("div",k,(0,c.zw)(T.product.content),1),(0,e._)("div",q,(0,c.zw)(T.product.description),1),(0,e._)("div",$,[(0,e._)("div",P,[(0,e._)("div",C,[(0,e._)("button",{class:"qty-btn",type:"button",onClick:s[0]||(s[0]=(...t)=>D.minsQty&&D.minsQty(...t)),disabled:T.qty<=1},"-",8,Q),(0,e.wy)((0,e._)("input",{class:"text-center qty-input",type:"number",min:"1","onUpdate:modelValue":s[1]||(s[1]=t=>T.qty=t),onChange:s[2]||(s[2]=(...t)=>D.checkQty&&D.checkQty(...t))},null,544),[[o.nr,T.qty]]),(0,e._)("button",{class:"qty-btn",type:"button",onClick:s[3]||(s[3]=(...t)=>D.addQty&&D.addQty(...t))},"+")])]),(0,e._)("div",z,[(0,e._)("button",{type:"button",class:"btn btn-outline-danger w-100",onClick:s[4]||(s[4]=t=>D.addToCart(T.product.id,T.qty))}," 加到購物車 ")])])])])]),(0,e._)("div",L,[(0,e._)("div",U,[I,(0,e.Wm)(Z,{onEmitId:D.getProduct},null,8,["onEmitId"])])])],64)}var T=i(5011);const D={class:"container"},M={class:"row"},S={class:"text-center"},Z=["src","alt"],j={class:"sushiTitle text-truncate w-100 mt-3 mx-auto"},B={class:"h5 my-2 text-danger"},E={class:"h6 ms-auto text-gray"};function H(t,s,i,r,d,a){const l=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",D,[(0,e._)("div",M,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(d.tempProducts,(s=>((0,e.wg)(),(0,e.iD)("div",{class:"col",key:s.id},[(0,e._)("div",S,[(0,e.Wm)(l,{to:`/product/${s.id}`,class:"sushiBtn btn",style:{width:"-webkit-fill-available"},onClick:(0,o.iM)((t=>a.emitProdId(s.id)),["prevent"])},{default:(0,e.w5)((()=>[(0,e._)("img",{src:s.imageUrl,alt:s.title,class:"w-100 rounded-3"},null,8,Z),(0,e._)("h5",j,(0,c.zw)(s.title),1),(0,e._)("div",B,[(0,e.Uk)("NT$"+(0,c.zw)(t.$filters.currency(s.price))+" 元 ",1),(0,e._)("div",null,[(0,e._)("del",E,"原價 : "+(0,c.zw)(t.$filters.currency(s.origin_price))+" 元 ",1)])])])),_:2},1032,["to","onClick"])])])))),128))])])}var N={data(){return{tempProducts:{}}},methods:{getProducts(){this.$http.get("https://vue3-course-api.hexschool.io/v2//api/xqrass-hexschool/products/all").then((t=>{this.tempProducts=t.data.products,this.tempProducts.sort((()=>.6-Math.random())),this.tempProducts=this.tempProducts.slice(0,6)})).catch((t=>{console.dir(t)}))},emitProdId(t){this.$emit("emit-id",t)}},mounted(){this.getProducts()}},Y=i(3744);const F=(0,Y.Z)(N,[["render",H]]);var K=F,V={data(){return{tempProducts:{},qty:1,failQty:!1,isLoading:!1,product:{},id:"",prod:[]}},components:{SwiperComp:K},inject:["emitter"],methods:{addQty(){this.failQty=!1,this.qty+=1},minsQty(){this.qty-=1},checkQty(){this.qty<=1&&(this.failQty=!0,this.qty=1)},getProduct(t){const s=`https://vue3-course-api.hexschool.io/v2//api/xqrass-hexschool/product/${this.id}`;this.isLoading=!0,this.$http.get(s).then((t=>{this.product=t.data.product,this.isLoading=!1}))},getProdIdFromComp(t){const s=this.$loading.show();this.$http.get(`https://vue3-course-api.hexschool.io/v2//api/xqrass-hexschool/product/${this.id}`).then((t=>{s.hide(),this.product=t.data.product})).catch((t=>{s.hide(),console.dir(t)}))},addToCart(t,s){const i="https://vue3-course-api.hexschool.io/v2//api/xqrass-hexschool/cart",e={product_id:t,qty:s};this.isLoading=!0,this.$http.post(i,{data:e}).then((t=>{this.qty=1,T.Z.emit("get-cart"),this.isLoading=!1,this.$swal({title:"成功加入購物車",icon:"success",confirmButtonColor:"#dc3545"})})).catch((t=>{this.isLoading=!1,this.$httpMessageState(t.response,"加入購物車")}))}},watch:{$route(){this.id=this.$route.params.productId,void 0!==this.id&&this.getProduct()}},created(){this.id=this.$route.params.productId,this.getProduct()}};const A=(0,Y.Z)(V,[["render",W]]);var G=A}}]);
//# sourceMappingURL=416.0578fbef.js.map